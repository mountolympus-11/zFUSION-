ITSKCDSP TITLE '- TASK RESUME ASYNC EPB RTN'                            00010000
**<DOC-ON>******************************************************        00020000
*                                                                       00030000
* ROUTINE: ITSKCDSP - TASK Resume ASYNC EPB Routine                     00040000
*                                                                       00050000
* DESCRIPTION:                                                          00060000
*                                                                       00070000
*    This routine is scheduled when the TASK dispatch EPB               00080000
*    is posted.  The purpose of this routine is to awake                00090000
*    an TASK and to allow it to make a trip through the                 00100000
*    task dispatcher.  This routine will simply reestablish             00110000
*    the task dispatch EPB and call the task dispatcher.                00120000
*                                                                       00130000
* ON ENTRY:                                                             00140000
*                                                                       00150000
*    Upon entry to this routine the following register conventions      00160000
*    are observed:                                                      00170000
*                                                                       00180000
*        R0  - Event Completion code                                    00190000
*        R15 - Entry Address                                            00200000
*        R10 - ITASK Address                                            00210000
*        R11 - ICVT  Address                                            00220000
*                                                                       00230000
* ON EXIT:                                                              00240000
*                                                                       00250000
*    $TASK CALLDSP is user to return control to the TASKMGR.            00260000
*                                                                       00270000
* MODE:                                                                 00280000
*                                                                       00290000
*    TASK                                                               00300000
*    APF/NON-APF                                                        00310000
*    SUP/PROB                                                           00320000
*    AMODE 31, RMODE ANY                                                00330000
*                                                                       00340000
**<DOC-OFF>*****************************************************        00350000
                                                                        00360000
         EJECT ,                                                        00370000
****************************************************************        00380000
*                                                                       00390000
* MAINTENANCE:                                                          00400000
*                                                                       00410000
*   05/06/93 Ron Colmone                                                00420000
*            Initial Version                                            00430000
*                                                                       00440000
****************************************************************        00450000
         EJECT ,                                                        00460000
         $TASK DSECT=YES          TASK MANAGER PLIST                    00470000
                                                                        00480000
         EJECT ,                                                        00490000
         EVCODES ,                EVENT CODES                           00500000
                                                                        00510000
         EJECT ,                                                        00520000
         EQUS  ,                  GENERAL EQUATES                       00530000
                                                                        00540000
         EJECT ,                                                        00550000
ITSKCDSP CSECT ,                  TASK SHUTDOWN ASYNC RTN               00560000
         LR    R12,R15            ENTRY ADDRESS                         00570000
         USING ITSKCDSP,R12       ESTABLISH ADDRESSABILITY              00580000
         USING ITASK,R10          ESTABLISH ADDRESSABILITY              00590000
         USING ICVT,R11           ESTABLISH ADDRESSABILITY              00600000
                                                                        00610000
         @CPYRYT ,                COPYRIGHT                             00620000
                                                                        00630000
         LA    R13,TSKDSPSA       CALLDSP SAVEAREA                      00640000
                                                                        00650000
         EJECT ,                                                        00660000
****************************************************************        00670000
*                                                                       00680000
*  TASK RESUME ASYNC EPB RTN                                            00690000
*                                                                       00700000
****************************************************************        00710000
                                                                        00720000
         $TASK SETEPB,            REESTABLISH DISPATCHER EPB           +00730000
               EPB=TSKDEPB,                                            +00740000
               ECODE=EC$EVNT,                                          +00750000
               PCB=*TSKPCB$M,                                          +00760000
               RTN=*#TSKCDSP,                                          +00770000
               PARM=0,                                                 +00780000
               WORKA=*TSK@WRKA,                                        +00790000
               MF=(E,TSKT_MFL)                                          00800000
                                                                        00810000
         $TASK CALLDSP,           CALL TASKMGR DISPATCHER              +00820000
               WORKA=*TSK@WRKA,                                        +00830000
               MF=(E,TSKT_MFL)                                          00840000
                                                                        00850000
         EJECT ,                                                        00860000
****************************************************************        00870000
*                                                                       00880000
*  CONSTANTS AND LITERALS                                               00890000
*                                                                       00900000
****************************************************************        00910000
                                                                        00920000
         LTORG ,                                                        00930000
                                                                        00940000
         PRINT NOGEN                                                    00950000
         ICVT  ,                                                        00960000
         ITASK ,                                                        00970000
         PRINT GEN                                                      00980000
                                                                        00990000
         END   ,                                                        01000000
