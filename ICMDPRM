ICMDPRM  TITLE 'ICMDPRM - PARM COMMAND PROCESSOR'                       00010000
**<DOC-ON>*****************************************************         00020000
*                                                                       00030000
* ROUTINE: ICMDPRM - PARM COMMAND PROCESSOR                             00040000
*                                                                       00050000
* DESCRIPTION:                                                          00060000
*                                                                       00070000
*                                                                       00080000
* SYNTAX:                                                               00090000
*                                                                       00100000
* ->- PARM --+----->-----+--->                                          00110000
*            |           |                                              00120000
*            +>-DISPLAY->+                                              00130000
*                                                                       00140000
* NOTES:                                                                00150000
*                                                                       00160000
* ON ENTRY:                                                             00170000
*                                                                       00180000
*    R1  ADDR OF COMMAND REQUEST BLOCK (CMDREQ) IN LOCAL                00190000
*        CMDPROC FORMAT                                                 00200000
*                                                                       00210000
**<DOC-OFF>****************************************************         00220000
                                                                        00230000
***************************************************************         00240000
*                                                                       00250000
* MAINTENANCE:                                                          00260000
*                                                                       00270000
*    09/07/95 T. Weltzer                                                00280000
*             INITIAL VERSION                                           00290000
*                                                                       00300000
***************************************************************         00310000
                                                                        00320000
         EJECT ,                                                        00330000
         CMDREQ ,            COMMAND REQUEST BLOCK                      00340000
                                                                        00350000
         EJECT ,                                                        00360000
         $TOKEN ,            OBJECT TOKEN                               00370000
                                                                        00380000
         EJECT ,                                                        00390000
         CMDCODES ,                                                     00400000
         EQUS  ,                                                        00410000
                                                                        00420000
         EJECT ,                                                        00430000
         $MSGDFT PREFIX=ICTPID,COMPID='CMD',TABLE=*#MSGS,              X00440000
               CONID=*CMRQCNID,CONNAME=CMRQCNAM,CART=CMRQCART,         X00450000
               DESTADD=*CMRQDMSK,                                      X00460000
               MSGQA=*CMRQMQA,STGQH=*CMRQSTGQ,                         X00470000
               MF=(E,MFE_LIST),                                        X00480000
               PRINT=GEN                                                00490000
                                                                        00500000
         EJECT ,                                                        00510000
*--------------------------------------------------------------         00520000
* LOCAL WORK AREA                                                       00530000
*--------------------------------------------------------------         00540000
         #WORK ,             BEGIN WORKAREA                             00550000
         #ENDWORK ,          END WORKAREA                               00560000
                                                                        00570000
         EJECT ,                                                        00580000
*--------------------------------------------------------------         00590000
* Main                                                                  00600000
*--------------------------------------------------------------         00610000
                                                                        00620000
ICMDPRM  #ENTER PREG=R8                                                 00630000
                                                                        00640000
         USING ICVT,R11           R11 --> ICVT                          00650000
         USING ITASK,R10          R10 --> ITASK                         00660000
         USING CMDREQ,R8          R8  --> CMQREQ                        00670000
                                                                        00680000
         L     R2,#PRMKEYS                                              00690000
         LA    R3,0(,R3)                                                00700000
         L     R3,#PRMOPS                                               00710000
         LA    R3,0(,R3)                                                00720000
                                                                        00730000
         $CLINK FUNC=*=V(PARMCMD),                                     x00740000
               (REGISTER_STRUCT*,(R2)),  keyword table (header)        x00750000
               (REGISTER_STRUCT*,(R3)),  post op entries               x00760000
               (REGISTER_STRUCT*,(R11)), ICVT - data source base addr. x00770000
               (REGISTER_STRUCT*,(R8))   command request block          00780000
                                                                        00790000
         L     R15,CMRQCOMP       get completion code                   00800000
         #EXIT ,                                                        00810000
                                                                        00820000
         LTORG ,                                                        00830000
                                                                        00840000
         EJECT ,                                                        00850000
         PRINT NOGEN                                                    00860000
         ICVT  ,                                                        00870000
         ITASK ,                                                        00880000
         END   ,                                                        00890000
