IRPTFUNC TITLE '- REPORT SERVICE C FUNCTIONS'                           00010000
**<DOC-ON>************************************************************* 00020000
*                                                                       00030000
* ROUTINE: IRPTFUNC - ASSEMBER C FUNCTIONS.                             00040000
*                                                                       00050000
* DESCRIPTION:                                                          00060000
*                                                                       00070000
*   THIS MODULE CONTAINS A SET OF ASSEMBLER LANGUAGE "C" FOR REPORT     00080000
*   REPORT SERVICES AND LINKAGE ROUTINES TO ICVT RESIDENT MODULES.      00090000
*                                                                       00100000
* ON ENTRY: POINTER TO APPROPRIATE STRUCTURE                            00110000
*                                                                       00120000
* ON EXIT:  RETURN CODE                                                 00130000
*                                                                       00140000
* FUNCTIONS:                                                            00150000
*                                                                       00160000
*   VOID GPR(STRUCT PRD *);         /* GET PRODUCT RELEASE DATA      */ 00170000
*                                                                       00180000
* ICVT MODULES RESOLVED:                                                00190000
*                                                                       00200000
*   CMDSCNP                                                             00210000
*                                                                       00220000
**<DOC-OFF>************************************************************ 00230000
         EJECT ,                                                        00240000
*********************************************************************** 00250000
*                                                                       00260000
* MAINTENANCE:                                                          00270000
*                                                                       00280000
*   10/31/94 TIM WELTZER                                                00290000
*            INITIAL VERSION                                            00300000
*                                                                       00310000
*********************************************************************** 00320000
                                                                        00330000
         EJECT ,                                                        00340000
*********************************************************************** 00350000
*                                                                       00360000
* PRODUCT RELEASE DATA (PRD) - STRUCT PRD                               00370000
*                                                                       00380000
*********************************************************************** 00390000
                                                                        00400000
PRD      DSECT                                                          00410000
PRDVER   DS    H                  VERSION                               00420000
PRDREL   DS    H                  RELEASE                               00430000
PRDRELVL DS    X                  RELEASE LEVEL                         00440000
*--------------------------------------------------------------*        00450000
                                                                        00460000
         EJECT ,                                                        00470000
         EQUS  ,                  GENERAL EQUATES                       00480000
                                                                        00490000
         EJECT ,                                                        00500000
         COPY  CRAB               "C"  RUNTIME ANCHOR BLOCK             00510000
         USING CRAB,R12           LIFETIME ADDRESSABILITY               00520000
                                                                        00530000
         EJECT ,                                                        00540000
*********************************************************************** 00550000
*                                                                       00560000
* DYNAMIC SAVE AREA                                                     00570000
*                                                                       00580000
*********************************************************************** 00590000
         COPY  DSA                                                      00600000
WORKAREA DS    0D                  USER DSA AREA                        00610000
MFE_LIST DS    10F                                                      00620000
                                                                        00630000
WORKLEN  EQU   *-WORKAREA          USER DSA AREA LENGTH                 00640000
DSALEN   EQU   *-DSA               LENGTH OF DSA                        00650000
         EJECT ,                                                        00660000
         EJECT ,                                                        00670000
*********************************************************************** 00680000
*                                                                       00690000
* FUNCTION: VOID GPR(STRUCT PRD *);                                     00700000
*                                                                       00710000
* ENTRY:    R1 CONTAINS ADDR OF PARAMETER LIST                          00720000
*                                                                       00730000
*              +0 - ADDRESS OF RETURN AREA                              00740000
*                                                                       00750000
* EXIT:     N/A                                                         00760000
*                                                                       00770000
*********************************************************************** 00780000
                                                                        00790000
IRPTFUNC CSECT ,                                                        00800000
GPR      CENTRY DSA=DSALEN                                              00810000
         ICM   R2,B'1111',0(R1)   GET PARM                              00820000
         BZ    GPREXIT            ANY ? NO, ERROR                       00830000
                                                                        00840000
         @RESTENV ,               RESTORE STANDARD ENVIRONMENT          00850000
         USING ICVT,R11           ICVT  ADDRESSABILITY                  00860000
         USING ITASK,R10          ITASK ADDRESSABILITY                  00870000
         USING DSA,R13            DYNAMIC STORAGE AREA                  00880000
         USING PRD,R2             PRODUCT RELEASE DATA                  00890000
                                                                        00900000
         SR    R0,R0                                                    00910000
         IC    R0,ICTVER          VERSION                               00920000
         STH   R0,PRDVER                                                00930000
         IC    R0,ICTREL          RELEASE                               00940000
         STH   R0,PRDREL                                                00950000
         MVC   PRDRELVL,ICTRELVL  RELEASE LEVEL                         00960000
                                                                        00970000
GPREXIT  DS    0H                                                       00980000
         CEXIT                    RETURN                                00990000
         LTORG ,                                                        01000000
         DROP  R2                                                       01010000
         DROP  R13                                                      01020000
         DROP  R11                                                      01030000
         DROP  R10                                                      01040000
                                                                        01050000
         PRINT NOGEN                                                    01060000
         ICVT  ,                                                        01070000
         ITASK ,                                                        01080000
         IPCB  ,                                                        01090000
         IUSER ,                                                        01100000
         IPROJ ,                                                        01110000
         IHAPSA ,                                                       01120000
         IKJTCB ,                                                       01130000
         PRINT GEN                                                      01140000
                                                                        01150000
         END   ,                                                        01160000
