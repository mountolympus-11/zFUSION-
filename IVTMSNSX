IVTMSNSX TITLE 'INTEGRATOR - ISESS NSEXIT PROCESSOR'                    00010000
                                                                        00020000
         PRINT NOGEN                                                    00030000
         CMINCL ,                 INTEGRATOR CPI-C DEFINITIONS          00040000
         L62INCL ,                INTEGRATOR LU6.2 DEFINITIONS          00050000
         PRINT GEN                                                      00060000
                                                                        00070000
**<DOC-ON>************************************************************* 00080000
*                                                                       00090000
* ROUTINE: IVTMSNSX - ISESS NSEXIT PROCESSOR                            00100000
*                                                                       00110000
* DESCRIPTION: THIS ROUTINE IS CALLED BY IVTMSESS TO PROCESS THE        00120000
*              NSEXIT WORK ELEMENT.                                     00130000
*                                                                       00140000
* ON ENTRY:                                                             00150000
*                                                                       00160000
*    R15 = ENTRY POINT ADDRESS                                          00170000
*    R14 = RETURN ADDRESS                                               00180000
*    R13 = AVAILABLE SAVE AREA                                          00190000
*    R11 = ICVT ADDRESS                                                 00200000
*    R10 = ITASK ADDRESS                                                00210000
*    R09 = IVTAMCVT ADDRESS                                             00220000
*    R08 = ISESS ADDRESS                                                00230000
*    R01 = ADDRESS OF NSEXIT WORK ELEMENT (IWEX4)                       00240000
*                                                                       00250000
* ON EXIT:                                                              00260000
*                                                                       00270000
*    R15 = 0                                                            00280000
*    R00 = 0                                                            00290000
*    R01 = 0                                                            00300000
*                                                                       00310000
*    ALL OTHER REGISTERS ARE RESTORED.                                  00320000
*                                                                       00330000
**<DOC-OFF>************************************************************ 00340000
                                                                        00350000
         EJECT ,                                                        00360000
*********************************************************************** 00370000
*                                                                       00380000
* MAINTENANCE:                                                          00390000
*                                                                       00400000
*   08/01/93 RANDY WITEK                                                00410000
*   07/01/94 RANDY WITEK - LU6.2 SUPPORT                                00420000
*                                                                       00430000
*********************************************************************** 00440000
                                                                        00450000
         EQUS  ,                  GENERAL EQUATES                       00460000
                                                                        00470000
RICVT    EQU   R11                                                      00480000
RITASK   EQU   R10                                                      00490000
RIVTAM   EQU   R9                                                       00500000
RISESS   EQU   R8                                                       00510000
RIACB    EQU   R7                                                       00520000
RIRPL    EQU   R6                                                       00530000
RIWE     EQU   R5                                                       00540000
RISQE    EQU   R4                                                       00550000
                                                                        00560000
         USING ICVT,RICVT         ESTABLISH ADDRESSABILITY              00570000
         USING ITASK,RITASK       ESTABLISH ADDRESSABILITY              00580000
         USING IVTAMCVT,RIVTAM    ESTABLISH ADDRESSABILITY              00590000
         USING ISESS,RISESS       ESTABLISH ADDRESSABILITY              00600000
         USING IACB,RIACB         ESTABLISH ADDRESSABILITY              00610000
         USING IRPL,RIRPL         ESTABLISH ADDRESSABILITY              00620000
         USING IWEVTAM,RIWE       ESTABLISH ADDRESSABILITY              00630000
         USING ISTDBIND,ISEBIND   ESTABLISH ADDRESSABILITY              00640000
         USING ISQE,RISQE         ESTABLISH ADDRESSABILITY              00650000
                                                                        00660000
WORKAREA #WORK ,                  READ/WRITE WORKAREA                   00670000
SUB0SAVE DS    18F                SUBROUTINE SAVE AREA                  00680000
SAVEATOK DS    CL8                ASSOC. SESSION TOKEN                  00690000
SAVEENT  DS    XL8                ASSOC. ENTITY TOKEN                   00700000
SAVESPL  DS    A                  ASSOC. SPL ADDRESS                    00710000
SAVEQTOK DS    F                  ISQE TOKEN VALUE                      00720000
SIRRETCD DS    F                  $SESS RETURN CODE TO BE PASSED        00730000
SIRRSNCD DS    F                  $SESS REASON CODE TO BE PASSED        00740000
SIRSENSE DS    F                  $SESS SENSE INFO  TO BE PASSED        00750000
SIREXPLN DS    CL8                ENGLISH EXPLANATION FOR MSG964        00760000
$TASKMFL $TASK MF=L               PLIST CONSTRUCTION                    00770000
$SESSMFL $SESS MF=L               PLIST CONSTRUCTION                    00780000
$WUMFL   $WULOC MF=L              PLIST CONSTRUCTION                    00790000
L62MFL   L62DFMD MF=L             PLIST CONSTRUCTION                    00800000
L62RETRC DS    F                  LU6.2 RETURN CODE RETURN AREA         00810000
WUDATA   DS    XL16               $WULOC USERDATA RETURN AREA           00820000
WRK256   DS    XL256              GENERAL WORKAREA                      00830000
LV0SAVE  DS    18F                SUBROUTINE SAVE AREA                  00840000
RETR15   DS    F                                                        00850000
RETR0    DS    F                                                        00860000
RETR1    DS    F                                                        00870000
RETREGS  EQU   RETR15,*-RETR15    INCLUSIVE SYMBOL                      00880000
FLAG     DS    X                                                        00890000
FLAGLOCK EQU   X'80'              VTAM GLOBAL LOCK HELD                 00900000
FLAGLCKD EQU   X'40'              VTAM GLOBAL LOCK HELD ON ENTRY        00910000
FLAGDLCK EQU   X'20'              DISP LOCK HELD                        00920000
FLAGDLKD EQU   X'10'              DISP LOCK WAS HELD ON ENTRY           00930000
WORKLEN  #ENDWORK                 END OF WORKAREA                       00940000
                                                                        00950000
         $MSGDFT PREFIX=ICTPID,                                        +00960000
               COMPID='VTM',                                           +00970000
               TABLE=*#MSGS,                                           +00980000
               WORKA=0,                                                +00990000
               MF=(E,WRK256),                                          +01000000
               PRINT=NOGEN                                              01010000
                                                                        01020000
IVTMSNSX #ENTER BASE=R12,         ENTRY LINKAGE                        +01030000
               PREG=RIWE,                                              +01040000
               AMODE=31,                                               +01050000
               RMODE=ANY                                                01060000
                                                                        01070000
         L     RIACB,IWEX4ACB     ASSOCIATED ACB                        01080000
         LA    RIRPL,IWEX4RPL     ADDRESS OF READ-ONLY RPL COPY         01090000
         LA    R2,IWEX4RU         ADDRESS OF ASSOCIATED RU              01100000
         L     R3,RPLRLEN         LENGTH OF THE RU                      01110000
         C     R3,=F'3'           AT LEAST THE NS HEADER?               01120000
         BL    RETURN             BRANCH IF NOT                         01130000
                                                                        01140000
*---------------------------------------------------------------------- 01150000
* PROCESS CLEANUP REQUEST                                               01160000
*---------------------------------------------------------------------- 01170000
                                                                        01180000
         CLC   0(3,R2),=X'810629' CLEANUP RU?                           01190000
         BNE   NOTIFY             BRANCH IF NOT CLEANUP                 01200000
                                                                        01210000
*                                                                       01220000
* VERIFY THE SESSION CID, IGNORE IF NO MATCH                            01230000
*---------------------------------------------------------------------- 01240000
                                                                        01250000
         CLC   ISECID,IWEX4CID    CID MATCH?                            01260000
         BNE   RETURN             BRANCH IF NOT                         01270000
                                                                        01280000
*                                                                       01290000
* SHOW THAT SESSION IS ALREADY GONE                                     01300000
*---------------------------------------------------------------------- 01310000
                                                                        01320000
         NI    ISEF1,255-ISEF1ACT CLEAR THE SESSION ACTIVE/PENDING FLAG 01330000
         XC    ISECID,ISECID      CLEAR THE SESSION CID                 01340000
                                                                        01350000
*                                                                       01360000
* QUEUE AN END SESSION WORK ELEMENT TO THE ISESS PROCESS                01370000
*---------------------------------------------------------------------- 01380000
                                                                        01390000
         $VTAMWE L'IWEXH,         LENGTH                               +01400000
               IWECENDS           CODE                                  01410000
                                                                        01420000
         LA    R0,ISEWEQ          QUEUE ADDRESS                         01430000
         BAS   R14,QWE            QUEUE THE WORK ELEMENT                01440000
         B     RETURN                                                   01450000
                                                                        01460000
*---------------------------------------------------------------------- 01470000
* PROCESS NOTIFY REQUEST                                                01480000
*---------------------------------------------------------------------- 01490000
                                                                        01500000
NOTIFY   DS    0H                                                       01510000
                                                                        01520000
         CLC   0(3,R2),=X'810620' NOTIFY RU?                            01530000
         BNE   RETURN             BRANCH IF NOT NOTIFY                  01540000
                                                                        01550000
*                                                                       01560000
* CHECK FOR A NOTIFY CONTROL VECTOR KEY = X'03' (ILU/TLU OR 3RD PARTY)  01570000
*---------------------------------------------------------------------- 01580000
                                                                        01590000
         CLI   3(R2),X'03'        CONTROL VECTOR KEY X'03' ?            01600000
         BNE   RETURN             BRANCH IF NOT                         01610000
                                                                        01620000
*                                                                       01630000
* CHECK FOR A SUCCESSFUL SETUP                                          01640000
*---------------------------------------------------------------------- 01650000
                                                                        01660000
         CLI   4(R2),X'02'        STATUS = SESSION SETUP ?              01670000
         BE    RETURN             BRANCH IF YES                         01680000
                                                                        01690000
*                                                                       01700000
* NOTIFY INDICATES SESSION SETUP FAILURE, SAVE SENSE INFORMATION        01710000
*---------------------------------------------------------------------- 01720000
                                                                        01730000
         CLI   4(R2),X'03'        STATUS = PROCEDURE ERROR ?            01740000
         BNE   NOTNOSNS           BRANCH IF NOT, NO SENSE               01750000
         MVC   SIRSENSE(4),14(R2) SAVE THE SENSE INFORMATION            01760000
NOTNOSNS DS    0H                                                       01770000
                                                                        01780000
*                                                                       01790000
* ISSUE AN INFORMATIVE MESSAGE ABOUT THE SESSION SETUP FAILURE          01800000
*---------------------------------------------------------------------- 01810000
                                                                        01820000
         MVC   SIRRETCD,=A($SESS_RC_NOTIFY)                             01830000
         MVC   SIREXPLN,=CL8'NOTIFY'                                    01840000
                                                                        01850000
         $MSG  964,               "SESSION INITIATION FAILED...'       +01860000
               FIELDS=((RISESS),     ISESS ADDRESS                     +01870000
               (ISETKUSR,4),         IVUSER TOKEN                      +01880000
               (ISETKSES,4),         ISESS  TOKEN                      +01890000
               (RITASK),             ITASK ADDRESS                     +01900000
               (TSKPCBC,4),          IPROC ADDRESS                     +01910000
               (TSKNAME,8),          ITASK NAME                        +01920000
               (ISEILUNM,8),         FROM ...                          +01930000
               (ISERLUNM,8),         TO ...                            +01940000
               (ISELOGMD,8),         USING LOGMODE ...                 +01950000
               (ISEPOOL,16),         USING POOL ...                    +01960000
               (SIRRETCD,4),         HEX RETURN CODE                   +01970000
               (SIRRSNCD,4),         HEX REASON CODE                   +01980000
               (SIRSENSE,4),         HEX SENSE CODE                    +01990000
               (SIREXPLN,8))         ENGLISH EXPLANATION                02000000
                                                                        02010000
*                                                                       02020000
* FLAG THE IACB TO BE SKIPPED OVER DURING THE NEXT SESSION INITIATION   02030000
*---------------------------------------------------------------------- 02040000
                                                                        02050000
         OI    IACF1,IACF1SKP     SET THE SKIP FLAG                     02060000
                                                                        02070000
*                                                                       02080000
* VALIDATE & DELETE THE ISQE ASSOCIATED WITH THE NOTIFY                 02090000
*---------------------------------------------------------------------- 02100000
                                                                        02110000
         ICM   RISQE,15,IWEX4USR     IS USERFLD AN ISQE TOKEN?          02120000
         BNM   RETURN                EXIT IF NOT                        02130000
                                                                        02140000
         BAS   R14,VTAMLOCK          SERIALIZE                          02150000
                                                                        02160000
         LA    RISQE,0(,RISQE)       CLEAR THE HI-ORDER BIT             02170000
         ST    RISQE,SAVEQTOK        SAVE THE ISQE TOKEN VALUE          02180000
                                                                        02190000
         $VTAM LOCISQE,                                                +02200000
               AREA=SAVEQTOK,                                          +02210000
               ERRET=RETURN,                                           +02220000
               MF=(E,MFE_LIST)       LOCATE THE ISQE                    02230000
                                                                        02240000
         LR    RISQE,R1              ISQE ADDRESS                       02250000
         MVC   SAVEATOK,ISQATOK      SAVE ASSOC. SESSION TOKEN IF ANY   02260000
         MVC   SAVEENT,ISQENT        SAVE ASSOC. ENTITY TOKEN IF ANY    02270000
         MVC   SAVESPL,ISQSPL        SAVE ASSOC. SPL ADDRESS IF ANY     02280000
                                                                        02290000
         $VTAM RETISQE,                                                +02300000
               AREA=SAVEQTOK,                                          +02310000
               MF=(E,MFE_LIST)       DELETE THE ISQE                    02320000
                                                                        02330000
*                                                                       02340000
* QUEUE A SESS INIT COMPLETION WORK ELEMENT TO THE ASSOCIATED ISESS     02350000
*---------------------------------------------------------------------- 02360000
                                                                        02370000
         OC    SAVEATOK,SAVEATOK    IS THERE AN ASSOCIATED REQUESTOR?   02380000
         BZ    CKENTITY             BRANCH IF NOT                       02390000
                                                                        02400000
         $SESS $SESS_FIND_SESSION,                                     +02410000
               SESSION=SAVEATOK,                                       +02420000
               ERRET=NOASSOC,                                          +02430000
               MF=(E,$SESSMFL)      LOCATE ASSOCIATED ISESS             02440000
                                                                        02450000
X        USING SPLIST,$SESSMFL                                          02460000
         L     R3,X.SPLAREA         ADDRESS OF ASSOCIATED ISESS BLOCK   02470000
         DROP  X                                                        02480000
                                                                        02490000
         LA    R3,ISEWEQ-ISE(,R3)   ADDRESS OF ASSOCIATED WORK QUEUE    02500000
                                                                        02510000
         $VTAMWE L'IWEXM,           SIZE                               +02520000
               IWECSICM             CODE (SESS INIT COMPLETION)         02530000
                                                                        02540000
X        USING IWEVTAM,R1                                               02550000
         MVC   X.IWEXMRET,SIRRETCD                                      02560000
         MVC   X.IWEXMRSN,SIRRSNCD                                      02570000
         MVC   X.IWEXMSNS,SIRSENSE                                      02580000
         MVC   X.IWEXMATK,SAVEATOK  SET ASSOCIATED SESSION TOKEN        02590000
         DROP  X                                                        02600000
                                                                        02610000
         LR    R0,R3                QUEUE ADDRESS                       02620000
         BAS   R14,QWE              GO QUEUE THE WORK ELEMENT           02630000
         B     NOASSOC                                                  02640000
                                                                        02650000
CKENTITY DS    0H                                                       02660000
                                                                        02670000
         OC    SAVEENT,SAVEENT    IS THERE AN ASSOCIATED ENTITY?        02680000
         BZ    NOASSOC            BRANCH IF NOT                         02690000
         BAS   R14,DISPLOCK       SERIALIZE                             02700000
                                                                        02710000
         $WULOC LOCATE,           FIND THE WORK UNIT                   +02720000
               TOKEN=SAVEENT,     WORK UNIT TOKEN ADDRESS              +02730000
               USERDATA=WUDATA,   XL16 AREA TO RECEIVE USER DATA       +02740000
               MF=(E,$WUMFL)      VALIDATE WORK UNIT                    02750000
                                                                        02760000
         LTR   R15,R15            LOCATE SUCCESS?                       02770000
         BNZ   L62POST            BRANCH IF NOT                         02780000
                                                                        02790000
         L     R1,SAVESPL         ASSOC. SPL ADDRESS                    02800000
X        USING SPLIST,R1                                                02810000
         MVC   X.SPLRETCD,SIRRETCD                                      02820000
         MVC   X.SPLRSNCD,SIRRSNCD                                      02830000
         MVC   X.SPLSENSE,SIRSENSE                                      02840000
         L     R2,X.SPLEPB                                              02850000
         L     R15,IVT@ATSP       $SESS TRACE ROUTINE                   02860000
         BASR  R14,R15            TRACE IT                              02870000
         DROP  X                                                        02880000
                                                                        02890000
L62POST  DS    0H                                                       02900000
                                                                        02910000
         L62POST (R2),            ADDRESS OF EPB TO BE POSTED          +02920000
               =F'0',             ADDRESS OF POST CODE                 +02930000
               SAVEENT,           ADDRESS OF ENTITY TOKEN              +02940000
               L62RETRC,          RETURN CODE AREA                     +02950000
               MF=(E,L62MFL)                                            02960000
                                                                        02970000
         BAS   R14,DISPUNLK           RELEASE THE LOCK IF NECESSARY     02980000
                                                                        02990000
NOASSOC  DS    0H                                                       03000000
                                                                        03010000
*                                                                       03020000
* QUEUE AN END SESSION WORK ELEMENT TO END THIS ISESS PROCESS           03030000
*---------------------------------------------------------------------- 03040000
                                                                        03050000
         $VTAMWE L'IWEXH,         LENGTH                               +03060000
               IWECENDS           CODE                                  03070000
                                                                        03080000
         LA    R0,ISEWEQ          QUEUE ADDRESS                         03090000
         BAS   R14,QWE            QUEUE THE WORK ELEMENT                03100000
         B     RETURN                                                   03110000
                                                                        03120000
*---------------------------------------------------------------------- 03130000
* RETURN TO CALLER                                                      03140000
*---------------------------------------------------------------------- 03150000
                                                                        03160000
RETURN   DS    0H                                                       03170000
                                                                        03180000
         BAS   R14,VTAMUNLK                                             03190000
                                                                        03200000
         LM    R15,R1,RETREGS     LOAD RETURN VALUES                    03210000
                                                                        03220000
         #EXIT R1=YES             RETURN W/R15,R0,R1                    03230000
                                                                        03240000
*---------------------------------------------------------------------- 03250000
* SUBROUTINE QWE - QUEUE A WORK ELEMENT TO A GIVEN WORK QUEUE           03260000
*                                                                       03270000
* ENTRY            R14 = RETURN ADDRESS                                 03280000
*                  R1  = WORK ELEMENT ADDRESS                           03290000
*                  R0  = QUEUE ADDRESS                                  03300000
*                                                                       03310000
* RETURNS          R15 = 0 --> QUEUEING WAS SUCCESSFUL                  03320000
*                      = 4 --> QUEUEING FAILED, WORK ELEMENT RELEASED   03330000
*---------------------------------------------------------------------- 03340000
                                                                        03350000
QWE      DS    0H                                                       03360000
                                                                        03370000
         STM   R14,R4,SUB0SAVE    SAVE REGISTERS                        03380000
         LR    R3,R0              SAVE QUEUE ADDRESS                    03390000
         LR    R4,R1              SAVE WORK ELEMENT ADDRESS             03400000
                                                                        03410000
         $VTAMQ (R4),             WORK ELEMENT                         +03420000
               (R3)               QUEUE                                 03430000
                                                                        03440000
         L     R14,SUB0SAVE       RESTORE REGISTERS                     03450000
         LM    R0,R4,SUB0SAVE+8   RESTORE REGISTERS                     03460000
         BR    R14                AND RETURN TO CALLER W/R15            03470000
                                                                        03480000
*---------------------------------------------------------------------- 03490000
*   SUBROUTINE: OBTAIN VTAM GLOBAL LOCK                                 03500000
*---------------------------------------------------------------------- 03510000
                                                                        03520000
VTAMLOCK DS    0H                                                       03530000
                                                                        03540000
         TM    FLAG,FLAGLOCK        HAVE WE ALREADY OBTAINED THE LOCK?  03550000
         BOR   R14                  RETURN IF YES                       03560000
         STM   R14,R2,SUB0SAVE      SAVE CALLER'S REGISTERS             03570000
                                                                        03580000
         $SER  OBTAIN,                                                 +03590000
               VTAM                                                     03600000
                                                                        03610000
         C     R15,=F'4'            WAS LOCK ALREADY HELD?              03620000
         BNE   VTAMLOEX             BRANCH IF NOT                       03630000
         OI    FLAG,FLAGLCKD        REMEMBER LOCK HELD ON ENTRY         03640000
                                                                        03650000
VTAMLOEX DS    0H                                                       03660000
                                                                        03670000
         OI    FLAG,FLAGLOCK        REMEMBER LOCK IS HELD               03680000
         LM    R14,R2,SUB0SAVE      RESTORE CALLER'S REGISTERS          03690000
         BR    R14                  RETURN                              03700000
                                                                        03710000
*---------------------------------------------------------------------- 03720000
*   SUBROUTINE: RELEASE VTAM GLOBAL LOCK                                03730000
*---------------------------------------------------------------------- 03740000
                                                                        03750000
VTAMUNLK DS    0H                                                       03760000
                                                                        03770000
         TM    FLAG,FLAGLOCK        IS LOCK HELD?                       03780000
         BNOR  R14                  BRANCH IF NOT                       03790000
         TM    FLAG,FLAGLCKD        WAS LOCK HELD ON ENTRY?             03800000
         BOR   R14                  DON'T RELEASE IF IT WAS             03810000
         STM   R14,R2,SUB0SAVE      SAVE CALLER'S REGISTERS             03820000
                                                                        03830000
         $SER  RELEASE,                                                +03840000
               VTAM                                                     03850000
                                                                        03860000
         NI    FLAG,255-FLAGLOCK    SHOW LOCK NOT HELD                  03870000
         LM    R14,R2,SUB0SAVE      RESTORE CALLER'S REGISTERS          03880000
         BR    R14                  RETURN                              03890000
                                                                        03900000
*---------------------------------------------------------------------- 03910000
*   SUBROUTINE: OBTAIN DISP GLOBAL LOCK                                 03920000
*---------------------------------------------------------------------- 03930000
                                                                        03940000
DISPLOCK DS    0H                                                       03950000
                                                                        03960000
         TM    FLAG,FLAGDLCK        WAS THE LOCK ALREADY OBTAINED?      03970000
         BOR   R14                  RETURN IF YES                       03980000
         STM   R14,R2,SUB0SAVE      SAVE CALLER'S REGISTERS             03990000
                                                                        04000000
         $SER  OBTAIN,                                                 +04010000
               DISP                                                     04020000
                                                                        04030000
         C     R15,=F'4'            WAS LOCK ALREADY HELD?              04040000
         BNE   DISPLOEX             BRANCH IF NOT                       04050000
         OI    FLAG,FLAGDLKD        REMEMBER LOCK HELD ON ENTRY         04060000
                                                                        04070000
DISPLOEX DS    0H                                                       04080000
                                                                        04090000
         OI    FLAG,FLAGDLCK        REMEMBER LOCK IS HELD               04100000
         LM    R14,R2,SUB0SAVE      RESTORE CALLER'S REGISTERS          04110000
         BR    R14                  RETURN                              04120000
                                                                        04130000
*---------------------------------------------------------------------- 04140000
*   SUBROUTINE: RELEASE DISP GLOBAL LOCK                                04150000
*---------------------------------------------------------------------- 04160000
                                                                        04170000
DISPUNLK DS    0H                                                       04180000
                                                                        04190000
         TM    FLAG,FLAGDLCK        IS LOCK HELD?                       04200000
         BNOR  R14                  BRANCH IF NOT                       04210000
         TM    FLAG,FLAGDLKD        WAS LOCK HELD ON ENTRY?             04220000
         BOR   R14                  DON'T RELEASE IF IT WAS             04230000
         STM   R14,R2,SUB0SAVE      SAVE CALLER'S REGISTERS             04240000
                                                                        04250000
         $SER  RELEASE,                                                +04260000
               DISP                                                     04270000
                                                                        04280000
         NI    FLAG,255-FLAGDLCK    SHOW LOCK NOT HELD                  04290000
         LM    R14,R2,SUB0SAVE      RESTORE CALLER'S REGISTERS          04300000
         BR    R14                  RETURN                              04310000
                                                                        04320000
*---------------------------------------------------------------------- 04330000
* ERROR ROUTINES                                                        04340000
*---------------------------------------------------------------------- 04350000
                                                                        04360000
ERR$VTAM DS    0H                                                       04370000
                                                                        04380000
         $ABEND ABE_VTDIAG,                                            +04390000
               SCOPE=PCB,                                              +04400000
               TITLE='$VTAM FAILURE'                                    04410000
                                                                        04420000
*---------------------------------------------------------------------- 04430000
*  CONSTANTS AND LITERALS                                               04440000
*---------------------------------------------------------------------- 04450000
                                                                        04460000
         LTORG ,                                                        04470000
         PRINT NOGEN                                                    04480000
         IHAPSA ,                 MVS PREFIXED SAVE AREA                04490000
         ISTDBIND ,               VTAM BIND IMAGE                       04500000
         TRACODES ,               INTEGRATOR TRACE CODE EQUATES         04510000
         ICVT  ,                  INTEGRATOR CVT                        04520000
         IVTAMCVT ,               INTEGRATOR VTAM CVT                   04530000
         IRPL ,                   INTEGRATOR VTAM RPL+                  04540000
         IACB ,                   INTEGRATOR VTAM ACB+                  04550000
         INIB ,                   INTEGRATOR VTAM NIB+                  04560000
         ISESS ,                  INTEGRATOR SESSION BLOCK              04570000
         ISQE ,                   INTEGRATOR SESS INIT QUEUE ELEMENT    04580000
         IVUSER ,                 INTEGRATOR VTAM USER BLOCK            04590000
         ITASK ,                  INTEGRATOR TASK BLOCK                 04600000
         IWEVTAM ,                INTEGRATOR VTAM WORK ELEMENT          04610000
         TMSG  ,                  INTEGRATOR INTERTASK MSG FORMAT       04620000
         EVCODES ,                INTEGRATOR EVENT CODES                04630000
         ABCODES ,                INTEGRATOR $ABEND CODES               04640000
         MSGCODES ,               INTEGRATOR INTERTASK MSGING CODES     04650000
         @EPB ,                   INTEGRATOR EVENT PROCESS BLOCK        04660000
         $TASK DSECT=YES          INTEGRATOR $TASK SERVICES             04670000
         $PROC DSECT=YES          INTEGRATOR $PROC SERVICES             04680000
         $VTAM DSECT=YES          INTEGRATOR $VTAM SERVICES             04690000
         $SESS DSECT=YES          INTEGRATOR $SESS SERVICES             04700000
         $WULOC DSECT=YES         INTEGRATOR $WULOC SERVICES            04710000
         IFGEXLST ,               VTAM EXIT LIST                        04720000
         END   ,                                                        04730000
